import{_ as y,u as V,r as p,a as k,c as h,b as o,w as s,d as a,e as R,o as B,f as c,g as C,h as E,l as F,i as N,j as U,E as f}from"./index-uGxSSD92.js";const q={class:"login-container"},K={__name:"index",setup(S){const _=R(),g=V(),r=p(null),t=p(!1),l=k({username:"",password:""}),b={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,message:"用户名长度不能小于3位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}]},i=async()=>{if(r.value)try{t.value=!0,await r.value.validate(),await g.login(l),f.success("登录成功"),_.push("/")}catch(d){f.error(d.message||"登录失败")}finally{t.value=!1}};return(d,e)=>{const m=a("el-input"),n=a("el-form-item"),w=a("el-button"),x=a("el-form"),v=a("el-card");return B(),h("div",q,[o(v,{class:"login-card"},{header:s(()=>e[2]||(e[2]=[U("h2",{class:"login-title"},"系统登录",-1)])),default:s(()=>[o(x,{ref_key:"loginFormRef",ref:r,model:l,rules:b,"label-position":"top"},{default:s(()=>[o(n,{label:"用户名",prop:"username"},{default:s(()=>[o(m,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=u=>l.username=u),placeholder:"请输入用户名","prefix-icon":c(C)},null,8,["modelValue","prefix-icon"])]),_:1}),o(n,{label:"密码",prop:"password"},{default:s(()=>[o(m,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=u=>l.password=u),type:"password",placeholder:"请输入密码","prefix-icon":c(F),onKeyup:E(i,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),o(n,null,{default:s(()=>[o(w,{type:"primary",loading:t.value,class:"login-button",onClick:i},{default:s(()=>e[3]||(e[3]=[N(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}},I=y(K,[["__scopeId","data-v-4c34a51f"]]);export{I as default};
